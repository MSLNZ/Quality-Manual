# Quality Manual
This repository contains the LaTeX source files for the MSL Quality Manual and supplementary documents.

The authoritative versions of the manual and supplements are held on the MSL Quality Management System Library (currently in SharePoint). The files in this github repository are often undergoing change and will not have been approved by the MSL Quality Council.

The MSL Quality Manual is typeset using LaTeX. A number of source files are complied to produce the final PDF document. There are several supplements to the Quality Manual that are also typeset in LaTeX. All of the source files needed to produce the Quality Manual and its supplements are available in this repository.

## Compiling the documents 
Each document has a folder (e.g., `quality_manual_document`, `guidelines_reporting_publishing`), which contains the LaTeX source files (extension `.tex`) and other files produced during the compilation process.

The name of the **main** LaTeX document in each folder begins with the prefix `MSL_` (e.g., `MSL_Guidelines_Measurement_Uncertainty`) 

To produce a PDF version of the Quality Manual, or one of the supplements, simply compile the corresponding main document. This can be done from the command line (e.g., `> pdflatex MSL_Quality_Manual`) or by using a LaTeX editing tool. It is necessary to perform **two successive passes** to resolve all the cross-references and citation links in the final document. 

#### Note: file types in repository 
Compilation of the Manual incorporates cross-references to sections in the supplements. LaTeX looks for these cross-references in auxiliary files (extension `.aux`) in the supplement folders. This is why .aux file are retained in the repository. However, it is not necessary to retain other temporary LaTeX files, like `.toc`, `.out`, `.log`, and `.gz`. 

#### Note: git merge conflicts
Conflicts that need human intervention to resolve may arise when merging repository branches. If this happens, git marks up the files concerned. This identifies the two incompatible parts of a file, so the owner can edit the final version of the text. 

Merge conflicts can also arise with the .aux and .pdf files. Before dealing with these, make sure all conflicts in .tex files have been addressed. Then just recompile the document (overwriting any conflicted .aux or .pdf files). After that, signal to git that the conflicted .aux and .pdf files have been *resolved*. Finally, all the repository changes can be committed to the branch.

#### MSL Structure Diagram
The MSL Organisational Structure diagram in the Quality Manual is generated by the GraphViz tool (https://graphviz.org). The source file for this figure is `MSL_Org_full.gv` (in the `pictures` sub-folder). This text file can be modified as the composition of MSL changes. Command-line code for generating PDF and PNG format images is included in the comments at the top of the file.

